# コミットメッセージルール

このプロジェクトでは [Conventional Commits](https://www.conventionalcommits.org/ja/v1.0.0/) の仕様に従ったコミットメッセージを使用します。

## 基本構造

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

## Type（必須）

- **feat**: 新機能追加
- **fix**: バグ修正
- **build**: ビルドシステムやツールの変更
- **chore**: 雑多な変更（依存関係更新など）
- **ci**: CI 設定の変更
- **docs**: ドキュメントの変更
- **style**: コードフォーマットの変更（機能に影響なし）
- **refactor**: リファクタリング
- **perf**: パフォーマンス改善
- **test**: テストの追加・修正

## Scope（オプション）

変更範囲を括弧内で指定します：

- `feat(auth): ログイン機能を追加`
- `fix(blog): 記事表示バグを修正`
- `docs(readme): インストール手順を更新`

## Description

- **現在形の動詞で開始**（「追加」「修正」「更新」など）
- **50 文字以内**
- **末尾にピリオドを付けない**
- **何を変更したかを簡潔に説明**

## Body（オプション）

- **72 文字で改行**
- **なぜ変更したかを説明**
- **変更の詳細や背景を記述**

## Footer（オプション）

- **Issue 参照**: `Closes #123`, `Fixes #456`
- **共同作成者**: `Co-authored-by: Name <email>`
- **破壊的変更**: `BREAKING CHANGE: 詳細説明`

## 破壊的変更の表記

### 方法 1: Type 後に`!`を追加

```
feat(api)!: 非推奨エンドポイントを削除
```

### 方法 2: Footer で指定

```
feat(api): 新しい認証システムを追加

BREAKING CHANGE: 旧認証システムは削除されました
```

## 実際の例

### 新機能追加

```
feat(blog): ダークモードトグル機能を追加

ユーザーがテーマを切り替えられるよう、
ヘッダーにダークモードボタンを実装

Closes #15
```

### バグ修正

```
fix(posts): タグページの日付表示エラーを修正

タグページで記事の公開日が正しく表示されない
問題を解決
```

### ドキュメント更新

```
docs: README にセットアップ手順を追加
```

### 破壊的変更

```
feat(api)!: RSS フィードの形式を変更

BREAKING CHANGE: RSS フィードの構造が変更されました。
古いフォーマットを使用しているクライアントは更新が必要です。
```

## メリット

1. **自動 CHANGELOG 生成**が可能
2. **セマンティックバージョニング**との連携
3. **明確なコミュニケーション**
4. **コードレビューの効率化**
5. **プロジェクト履歴の可読性向上**

## 注意事項

- 1 つのコミットで複数の変更を混在させない
- コミットは論理的な単位でまとめる
- 破壊的変更は必ず明記する
- 日本語でも英語でも一貫性を保つ
